(globalThis["webpackChunksupersayan"]=globalThis["webpackChunksupersayan"]||[]).push([[681],{5681:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>et});var s=o(9835),l=o(1246),a=o.n(l);const i={key:0,class:"col-12 justify-start row"},n=(0,s._)("div",{class:"text-h5 text-bold col-12"},null,-1),r={class:"col-12 q-mb-xl text-bold text-h6"},c={class:"col-12 row justify-center"},d=(0,s._)("div",{class:"text-h6 text-bold text-center"}," Selamat Datang Di Interview App Project ",-1),u=(0,s._)("div",{class:"text text-h6 text-bold text-center"}," PT. Qtasnim Digital Teknologi ",-1),p={class:"col-12"},m=(0,s._)("small",{class:"col-12"},"Username ",-1),h={class:"col-12"},g=(0,s._)("small",{class:"col-12"},"Password ",-1),w={class:"col-12 row q-mt-xl"},f=(0,s._)("div",{class:"col-12 justify-between row q-mt-sm q-mb-lg"},[(0,s._)("small",{class:"text-weight-bold"})],-1),x=(0,s._)("div",{class:"col-12 justify-around row text-weight-light q-mt-sm"},null,-1);function y(t,e,o,l,y,v){const b=(0,s.up)("q-img"),_=(0,s.up)("q-input"),k=(0,s.up)("q-icon"),q=(0,s.up)("q-btn"),V=(0,s.up)("Forgot"),$=(0,s.up)("VerificationOtp"),j=(0,s.up)("q-form");return(0,s.wg)(),(0,s.j4)(j,{class:"text-h6 col-12 items-center row justify-center bg-grey-6 q-py-xl q-px-md text-white",onSubmit:v.login},{default:(0,s.w5)((()=>["login"==y.type?((0,s.wg)(),(0,s.iD)("div",i,[n,(0,s._)("div",r,[(0,s._)("div",c,[(0,s.Wm)(b,{src:a(),style:{width:"400px"}})]),d,u]),(0,s._)("div",p,[m,(0,s.Wm)(_,{outlined:"",class:"col-12",color:"primary","bg-color":"white",modelValue:y.dataModel.username,"onUpdate:modelValue":e[0]||(e[0]=t=>y.dataModel.username=t),placeholder:"username",style:{"border-radius":"24px !important"}},null,8,["modelValue"])]),(0,s._)("div",h,[g,(0,s.Wm)(_,{outlined:"",class:"col-12",color:"primary","bg-color":"white",modelValue:y.dataModel.password,"onUpdate:modelValue":e[2]||(e[2]=t=>y.dataModel.password=t),type:y.isPwd?"password":"text",placeholder:"Password"},{append:(0,s.w5)((()=>[(0,s.Wm)(k,{name:y.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[1]||(e[1]=t=>y.isPwd=!y.isPwd)},null,8,["name"])])),_:1},8,["modelValue","type"])]),(0,s._)("div",w,[(0,s.Wm)(q,{label:"Login",class:"col-12 bg-white",size:"lg",noCaps:"",flat:"",color:"primary",type:"submit",onClick:v.login,style:{"border-radius":"12px"}},null,8,["onClick"])]),f,x])):(0,s.kq)("",!0),"forgot"==y.type?((0,s.wg)(),(0,s.j4)(V,{key:1,modelValue:t.username,"onUpdate:modelValue":e[3]||(e[3]=e=>t.username=e),onForgot:v.forgot},null,8,["modelValue","onForgot"])):(0,s.kq)("",!0),"verification"==y.type?((0,s.wg)(),(0,s.j4)($,{key:2,onVerification:v.vericationOtp,dataOtp:y.otp},null,8,["onVerification","dataOtp"])):(0,s.kq)("",!0)])),_:1},8,["onSubmit"])}o(9665);const v={class:"col-12 justify-start row"},b=(0,s._)("div",{class:"text-h5 text-bold col-12"},"Lupa Password",-1),_=(0,s._)("div",{class:"col-12 text-weight-regular q-mb-xl"},[(0,s._)("small",null,"Silakan masukan nomor telepon anda untuk mengirim password yang baru")],-1),k={class:"col-12"},q=(0,s._)("small",{class:"col-12 text-weight-light"},"Nomor Telepon ",-1),V={class:"col-12 row q-mt-xl"},$=(0,s._)("div",{class:"col-12 justify-between row q-mt-sm q-mb-lg"},[(0,s._)("small",{class:"text-weight-bold"})],-1),j=(0,s._)("div",{class:"col-12 justify-around row text-weight-light q-mt-sm"},[(0,s._)("small",{class:"col-12 row text-weight-light justify-center q-mt-md"},"2023 @ PT. Kafilah Maghfirah Wisata")],-1);function P(t,e,o,l,a,i){const n=(0,s.up)("q-input"),r=(0,s.up)("q-btn");return(0,s.wg)(),(0,s.iD)("div",v,[b,_,(0,s._)("div",k,[q,(0,s.Wm)(n,{outlined:"",class:"col-12",color:"info","bg-color":"white",placeholder:" 08123456789",style:{"border-radius":"24px !important"},"model-value":o.modelValue,"onUpdate:modelValue":e[0]||(e[0]=e=>t.$emit("update:modelValue",e))},null,8,["model-value"])]),(0,s._)("div",V,[(0,s.Wm)(r,{label:"Kirim Password",class:"col-12 bg-white",size:"lg",noCaps:"",flat:"",color:"info",type:"button",onClick:e[1]||(e[1]=e=>t.$emit("forgot"))})]),$,j])}const Z={name:"ForgotPassword",props:["modelValue"],data(){return{}}};var M=o(1639),H=o(3119),O=o(8879),Q=o(9984),C=o.n(Q);const S=(0,M.Z)(Z,[["render",P]]),W=S;C()(Z,"components",{QInput:H.Z,QBtn:O.Z});var F=o(6970);const D={key:0,class:"col-10 items-center row justify-center text-white"},U={class:"col-12 justify-start row"},I=(0,s._)("div",{class:"text-h6 text-bold col-12"},"Verifikasi",-1),K={class:"col-12 text-weight-regular q-mb-lg",style:{"font-size":"16px"}},L={class:"col-12 row justify-around q-my-md"},T={class:"col-12 q-mb-sm text-weight-regular"},z=(0,s._)("div",{class:"col-12 row q-mt-xl"},null,-1),B=(0,s._)("div",{class:"col-12 text-weight-regular absolute-top-left"},null,-1);function E(t,e,o,l,a,i){const n=(0,s.up)("q-input"),r=(0,s.up)("q-form");return o.dataOtp?((0,s.wg)(),(0,s.iD)("div",D,[(0,s._)("div",U,[I,(0,s._)("div",K," Kami sudah mengirimkan kode verifikasi via Whatsapp dengan nomor ("+(0,F.zw)(o.dataOtp.phone)+"). Silahkan periksa pesan masuk anda. ",1),(0,s.Wm)(r,{class:"col-12"},{default:(0,s.w5)((()=>[(0,s._)("div",L,[(0,s._)("div",T,"Kirim Sebelum "+(0,F.zw)(o.dataOtp.countExpire),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.otp,((t,e)=>((0,s.wg)(),(0,s.j4)(n,{key:e,maxlength:"1",outlined:"",style:{width:"50px"},color:"info","bg-color":"white",onKeyup:()=>{i.checkFileds(),i.focusNext(e+1,a.otp[e])},modelValue:a.otp[e],"onUpdate:modelValue":t=>a.otp[e]=t,class:(0,F.C_)(`otp-${e}`),"input-style":"font-weight:bold; text-align:center"},null,8,["onKeyup","modelValue","onUpdate:modelValue","class"])))),128))])])),_:1}),z,B])])):(0,s.kq)("",!0)}const N={name:"VerificationUsers",props:["dataOtp"],data(){return{otp:["","","",""]}},methods:{focusNext(t,e){const o=document.getElementsByClassName(`otp-${t}`);if(e.length>0&&o&&o[0])return o[0].focus()},checkFileds(){let t=!0;this.otp.forEach((e=>{""!=e&&null!=e||(t=!1)})),1==t&&this.$emit("verification",this.otp.join(""))}}};var A=o(8326);const Y=(0,M.Z)(N,[["render",E]]),G=Y;C()(N,"components",{QForm:A.Z,QInput:H.Z,QBtn:O.Z});const J={name:"LoginAll",components:{Forgot:W,VerificationOtp:G},created(){},data(){return{dataModel:{username:"",password:""},isPwd:!0,type:"login",otp:null}},methods:{login(){this.$api.post("login",this.dataModel,((t,e,o,s)=>{if(200==e)if(this.$Handle.setLS("_user",t.users),this.$Handle.setLS("_token",t.token),this.$Handle.successMessage(o),1==t.users.is_customer)this.$router.push({name:"cms-jamaah-index"});else if(void 0!=t.users.role.master_menu.menu_details[0]){let e=t.users.role.master_menu.menu_details[0];this.$router.push({name:e.menu.path})}}),(t=>{for(const[e,o]of Object.entries(t))this.$Handle.errorMessage(`${o}`)}))},forgot(){this.$api.post("forgot",{username:this.username},((t,e,o,s)=>{200==e&&(this.otp=t,null!=this.otp&&(this.type="verification",setInterval((()=>{this.otp.countExpire=this.$Help.countingDown(this.otp.expired)}),1e3)))}),(t=>{this.$Handle.errorMessage(t)}))},vericationOtp(t){let e={otp:t,phone:this.otp.phone};this.$api.post("otp-verification",e,((t,e,o,s)=>{200==e&&(this.$Handle.setLS("_user",t.users),this.$Handle.setLS("_token",t.token),this.$Handle.successMessage(o),this.$router.push({name:"cms-jamaah-index",query:{param:"newPassword"}}))}),(t=>{this.$Handle.errorMessage(t)}))}}};var R=o(335),X=o(2857);const tt=(0,M.Z)(J,[["render",y]]),et=tt;C()(J,"components",{QForm:A.Z,QImg:R.Z,QInput:H.Z,QIcon:X.Z,QBtn:O.Z})},1246:(t,e,o)=>{t.exports=o.p+"img/qtasnim.286c10f6.png"}}]);