"use strict";(globalThis["webpackChunksupersayan"]=globalThis["webpackChunksupersayan"]||[]).push([[498],{9498:(t,e,o)=>{o.r(e),o.d(e,{default:()=>Y});var s=o(9835);const l={key:0,class:"col-12 justify-start row"},a=(0,s._)("div",{class:"text-h5 text-bold col-12"},null,-1),i=(0,s._)("div",{class:"col-12 q-mb-xl text-bold text-h6"},[(0,s._)("div",{class:"col-12 row justify-center"}),(0,s._)("div",{class:"text-h6 text-bold text-center"}," Selamat Datang Di Interview App Project "),(0,s._)("div",{class:"text text-h6 text-bold text-center"}," PT. Mitra Sinerji Teknoindo ")],-1),n={class:"col-12"},r=(0,s._)("small",{class:"col-12"},"Username ",-1),c={class:"col-12"},d=(0,s._)("small",{class:"col-12"},"Password ",-1),u={class:"col-12 row q-mt-xl"},p=(0,s._)("div",{class:"col-12 justify-between row q-mt-sm q-mb-lg"},[(0,s._)("small",{class:"text-weight-bold"})],-1),m=(0,s._)("div",{class:"col-12 justify-around row text-weight-light q-mt-sm"},null,-1);function h(t,e,o,h,g,w){const f=(0,s.up)("q-input"),x=(0,s.up)("q-icon"),y=(0,s.up)("q-btn"),v=(0,s.up)("Forgot"),b=(0,s.up)("VerificationOtp"),_=(0,s.up)("q-form");return(0,s.wg)(),(0,s.j4)(_,{class:"text-h6 col-12 items-center row justify-center bg-primary q-py-xl q-px-md text-white",onSubmit:w.login},{default:(0,s.w5)((()=>["login"==g.type?((0,s.wg)(),(0,s.iD)("div",l,[a,i,(0,s._)("div",n,[r,(0,s.Wm)(f,{outlined:"",class:"col-12",color:"primary","bg-color":"white",modelValue:g.dataModel.username,"onUpdate:modelValue":e[0]||(e[0]=t=>g.dataModel.username=t),placeholder:"username",style:{"border-radius":"24px !important"}},null,8,["modelValue"])]),(0,s._)("div",c,[d,(0,s.Wm)(f,{outlined:"",class:"col-12",color:"primary","bg-color":"white",modelValue:g.dataModel.password,"onUpdate:modelValue":e[2]||(e[2]=t=>g.dataModel.password=t),type:g.isPwd?"password":"text",placeholder:"Password"},{append:(0,s.w5)((()=>[(0,s.Wm)(x,{name:g.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[1]||(e[1]=t=>g.isPwd=!g.isPwd)},null,8,["name"])])),_:1},8,["modelValue","type"])]),(0,s._)("div",u,[(0,s.Wm)(y,{label:"Login",class:"col-12 bg-white",size:"lg",noCaps:"",flat:"",color:"primary",type:"submit",onClick:w.login,style:{"border-radius":"12px"}},null,8,["onClick"])]),p,m])):(0,s.kq)("",!0),"forgot"==g.type?((0,s.wg)(),(0,s.j4)(v,{key:1,modelValue:t.username,"onUpdate:modelValue":e[3]||(e[3]=e=>t.username=e),onForgot:w.forgot},null,8,["modelValue","onForgot"])):(0,s.kq)("",!0),"verification"==g.type?((0,s.wg)(),(0,s.j4)(b,{key:2,onVerification:w.vericationOtp,dataOtp:g.otp},null,8,["onVerification","dataOtp"])):(0,s.kq)("",!0)])),_:1},8,["onSubmit"])}o(9665);const g={class:"col-12 justify-start row"},w=(0,s._)("div",{class:"text-h5 text-bold col-12"},"Lupa Password",-1),f=(0,s._)("div",{class:"col-12 text-weight-regular q-mb-xl"},[(0,s._)("small",null,"Silakan masukan nomor telepon anda untuk mengirim password yang baru")],-1),x={class:"col-12"},y=(0,s._)("small",{class:"col-12 text-weight-light"},"Nomor Telepon ",-1),v={class:"col-12 row q-mt-xl"},b=(0,s._)("div",{class:"col-12 justify-between row q-mt-sm q-mb-lg"},[(0,s._)("small",{class:"text-weight-bold"})],-1),_=(0,s._)("div",{class:"col-12 justify-around row text-weight-light q-mt-sm"},[(0,s._)("small",{class:"col-12 row text-weight-light justify-center q-mt-md"},"2023 @ PT. Kafilah Maghfirah Wisata")],-1);function k(t,e,o,l,a,i){const n=(0,s.up)("q-input"),r=(0,s.up)("q-btn");return(0,s.wg)(),(0,s.iD)("div",g,[w,f,(0,s._)("div",x,[y,(0,s.Wm)(n,{outlined:"",class:"col-12",color:"info","bg-color":"white",placeholder:" 08123456789",style:{"border-radius":"24px !important"},"model-value":o.modelValue,"onUpdate:modelValue":e[0]||(e[0]=e=>t.$emit("update:modelValue",e))},null,8,["model-value"])]),(0,s._)("div",v,[(0,s.Wm)(r,{label:"Kirim Password",class:"col-12 bg-white",size:"lg",noCaps:"",flat:"",color:"info",type:"button",onClick:e[1]||(e[1]=e=>t.$emit("forgot"))})]),b,_])}const q={name:"ForgotPassword",props:["modelValue"],data(){return{}}};var V=o(1639),j=o(3119),$=o(8879),P=o(9984),M=o.n(P);const Z=(0,V.Z)(q,[["render",k]]),H=Z;M()(q,"components",{QInput:j.Z,QBtn:$.Z});var O=o(6970);const S={key:0,class:"col-10 items-center row justify-center text-white"},C={class:"col-12 justify-start row"},F=(0,s._)("div",{class:"text-h6 text-bold col-12"},"Verifikasi",-1),Q={class:"col-12 text-weight-regular q-mb-lg",style:{"font-size":"16px"}},W={class:"col-12 row justify-around q-my-md"},U={class:"col-12 q-mb-sm text-weight-regular"},D=(0,s._)("div",{class:"col-12 row q-mt-xl"},null,-1),K=(0,s._)("div",{class:"col-12 text-weight-regular absolute-top-left"},null,-1);function L(t,e,o,l,a,i){const n=(0,s.up)("q-input"),r=(0,s.up)("q-form");return o.dataOtp?((0,s.wg)(),(0,s.iD)("div",S,[(0,s._)("div",C,[F,(0,s._)("div",Q," Kami sudah mengirimkan kode verifikasi via Whatsapp dengan nomor ("+(0,O.zw)(o.dataOtp.phone)+"). Silahkan periksa pesan masuk anda. ",1),(0,s.Wm)(r,{class:"col-12"},{default:(0,s.w5)((()=>[(0,s._)("div",W,[(0,s._)("div",U,"Kirim Sebelum "+(0,O.zw)(o.dataOtp.countExpire),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.otp,((t,e)=>((0,s.wg)(),(0,s.j4)(n,{key:e,maxlength:"1",outlined:"",style:{width:"50px"},color:"info","bg-color":"white",onKeyup:()=>{i.checkFileds(),i.focusNext(e+1,a.otp[e])},modelValue:a.otp[e],"onUpdate:modelValue":t=>a.otp[e]=t,class:(0,O.C_)(`otp-${e}`),"input-style":"font-weight:bold; text-align:center"},null,8,["onKeyup","modelValue","onUpdate:modelValue","class"])))),128))])])),_:1}),D,K])])):(0,s.kq)("",!0)}const I={name:"VerificationUsers",props:["dataOtp"],data(){return{otp:["","","",""]}},methods:{focusNext(t,e){const o=document.getElementsByClassName(`otp-${t}`);if(e.length>0&&o&&o[0])return o[0].focus()},checkFileds(){let t=!0;this.otp.forEach((e=>{""!=e&&null!=e||(t=!1)})),1==t&&this.$emit("verification",this.otp.join(""))}}};var T=o(8326);const z=(0,V.Z)(I,[["render",L]]),B=z;M()(I,"components",{QForm:T.Z,QInput:j.Z,QBtn:$.Z});const E={name:"LoginAll",components:{Forgot:H,VerificationOtp:B},created(){},data(){return{dataModel:{username:"",password:""},isPwd:!0,type:"login",otp:null}},methods:{login(){this.$api.post("login",this.dataModel,((t,e,o,s)=>{if(200==e)if(this.$Handle.setLS("_user",t.users),this.$Handle.setLS("_token",t.token),this.$Handle.successMessage(o),1==t.users.is_customer)this.$router.push({name:"cms-jamaah-index"});else if(void 0!=t.users.role.master_menu.menu_details[0]){let e=t.users.role.master_menu.menu_details[0];this.$router.push({name:e.menu.path})}}),(t=>{for(const[e,o]of Object.entries(t))this.$Handle.errorMessage(`${o}`)}))},forgot(){this.$api.post("forgot",{username:this.username},((t,e,o,s)=>{200==e&&(this.otp=t,null!=this.otp&&(this.type="verification",setInterval((()=>{this.otp.countExpire=this.$Help.countingDown(this.otp.expired)}),1e3)))}),(t=>{this.$Handle.errorMessage(t)}))},vericationOtp(t){let e={otp:t,phone:this.otp.phone};this.$api.post("otp-verification",e,((t,e,o,s)=>{200==e&&(this.$Handle.setLS("_user",t.users),this.$Handle.setLS("_token",t.token),this.$Handle.successMessage(o),this.$router.push({name:"cms-jamaah-index",query:{param:"newPassword"}}))}),(t=>{this.$Handle.errorMessage(t)}))}}};var N=o(2857);const A=(0,V.Z)(E,[["render",h]]),Y=A;M()(E,"components",{QForm:T.Z,QInput:j.Z,QIcon:N.Z,QBtn:$.Z})}}]);