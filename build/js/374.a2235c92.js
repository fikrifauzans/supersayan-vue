"use strict";(globalThis["webpackChunksupersayan"]=globalThis["webpackChunksupersayan"]||[]).push([[374],{1374:(l,e,a)=>{a.r(e),a.d(e,{default:()=>n});var t=a(9835);function o(l,e,a,o,d,i){const s=(0,t.up)("s-loading"),u=(0,t.up)("t-currency"),n=(0,t.up)("s-form"),m=(0,t.up)("s-drawer");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(s,{load:d.loading},null,8,["load"]),(0,t.Wm)(m,{onRefresh:l.refresh,useModal:d.useModal,form:"",onSubmit:i.submit,onBack:i.back,Meta:d.Meta},{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t.Wm)(n,{class:"q-px-md q-py-lg",title:"Form Transaction Details"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{col:"4",label:"transaction_id",currency:"",modelValue:d.model.transaction_id,"onUpdate:modelValue":e[0]||(e[0]=l=>d.model.transaction_id=l),topLabel:"transaction_id"},null,8,["modelValue"]),(0,t.Wm)(u,{col:"4",label:"product_id",currency:"",modelValue:d.model.product_id,"onUpdate:modelValue":e[1]||(e[1]=l=>d.model.product_id=l),topLabel:"product_id"},null,8,["modelValue"]),(0,t.Wm)(u,{col:"4",label:"price",currency:"",modelValue:d.model.price,"onUpdate:modelValue":e[2]||(e[2]=l=>d.model.price=l),topLabel:"price"},null,8,["modelValue"]),(0,t.Wm)(u,{col:"4",label:"qty",currency:"",modelValue:d.model.qty,"onUpdate:modelValue":e[3]||(e[3]=l=>d.model.qty=l),topLabel:"qty"},null,8,["modelValue"]),(0,t.Wm)(u,{col:"4",label:"last_stock",currency:"",modelValue:d.model.last_stock,"onUpdate:modelValue":e[4]||(e[4]=l=>d.model.last_stock=l),topLabel:"last_stock"},null,8,["modelValue"]),(0,t.Wm)(u,{col:"4",label:"discount_in_percent",currency:"",modelValue:d.model.discount_in_percent,"onUpdate:modelValue":e[5]||(e[5]=l=>d.model.discount_in_percent=l),topLabel:"discount_in_percent"},null,8,["modelValue"]),(0,t.Wm)(u,{col:"4",label:"discount_in_rupiah",currency:"",modelValue:d.model.discount_in_rupiah,"onUpdate:modelValue":e[6]||(e[6]=l=>d.model.discount_in_rupiah=l),topLabel:"discount_in_rupiah"},null,8,["modelValue"]),(0,t.Wm)(u,{col:"4",label:"amount",currency:"",modelValue:d.model.amount,"onUpdate:modelValue":e[7]||(e[7]=l=>d.model.amount=l),topLabel:"amount"},null,8,["modelValue"]),(0,t.Wm)(u,{col:"4",label:"total",currency:"",modelValue:d.model.total,"onUpdate:modelValue":e[8]||(e[8]=l=>d.model.total=l),topLabel:"total"},null,8,["modelValue"])])),_:1})])])),_:1},8,["onRefresh","useModal","onSubmit","onBack","Meta"])])}a(9665);var d=a(6625);const i={name:d.Z.name+"Form",props:["modal","id","submitOnModal"],created(){this.$Handle.loadingStart(),this.Meta.model={},this.$route.params.id&&(this.param=this.$route.params.id?this.$route.params.id:null),this.id&&(this.param=this.id?this.id:null),this.modal&&!0===this.modal.add&&(this.useModal=!0),this.modal&&!0===this.modal.edit&&(this.useModal=!0),null!==this.param&&this.findId(this.param),this.$Handle.loadingStop()},data(){return{Meta:d.Z,useModal:!1,model:d.Z.model,loading:!1,edit:!1,param:null}},watch:{submitOnModal:function(l){l.isTrusted&&this.submit()}},methods:{findId(l){let e=d.Z.module+"/"+l;this.$api.get(e,((l,e,a,t)=>{200==e&&(this.model=l,this.$Handle.loadingStop())}))},async submit(){this.$Handle.loadingStart(),null!==this.param?await this.editData(this.param):await this.postData(this.model)},editData(l){let e=this.Meta.module+"/"+l;this.$api.put(e,this.model,((l,e,a,t)=>{200==e&&(this.$Handle.successMessage(a),this.$Handle.loadingStop(),this.back())}))},postData(l){let e=this.Meta.module;this.$api.post(e,l,((l,e,a,t)=>{200==e&&(this.$Handle.successMessage(a),this.$Handle.loadingStop(),this.back())}))},back(){if(1!=this.useModal)return this.$router.push({name:d.Z.module,query:{...this.$route.query}});this.$emit("closeModal")}}};var s=a(1639);const u=(0,s.Z)(i,[["render",o]]),n=u}}]);